!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function k(){k=function(){return a};var a={},t=Object.prototype,c=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o,i,a,u,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),r=new w(r||[]);return e._invoke=(o=t,i=n,a=r,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return S()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return s;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}r=l(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,s;r=r.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,s):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,s)}(n,a);if(n){if(n===s)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";n=l(o,i,a);if("normal"===n.type){if(u=a.done?"completed":"suspendedYield",n.arg===s)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(u="completed",a.method="throw",a.arg=n.arg)}}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var s={};function f(){}function h(){}function p(){}var e={},d=(i(e,r,function(){return this}),Object.getPrototypeOf),d=d&&d(d(x([]))),v=(d&&d!==t&&c.call(d,r)&&(e=d),p.prototype=f.prototype=Object.create(e));function y(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function m(a,u){var e;this._invoke=function(n,r){function t(){return new u(function(t,e){!function e(t,n,r,o){var i,t=l(a[t],a,n);if("throw"!==t.type)return(n=(i=t.arg).value)&&"object"==typeof n&&c.call(n,"__await")?u.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):u.resolve(n).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function g(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(g,this),this.reset(!0)}function x(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:S}}function S(){return{value:void 0,done:!0}}return i(v,"constructor",h.prototype=p),i(p,"constructor",h),h.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},a.awrap=function(t){return{__await:t}},y(m.prototype),i(m.prototype,n,function(){return this}),a.AsyncIterator=m,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new m(u(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},y(v),i(v,o,"Generator"),i(v,r,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=x,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=c.call(o,"catchLoc"),u=c.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),s}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,b(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},a}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e,n){e&&F(t.prototype,e),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1})}function M(t,a,u,c){return new(u=u||Promise)(function(n,e){function r(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(r,o)}i((c=c.apply(t,a||[])).next())})}function $(t,e){return t+Math.round(Math.random()*(e-t))}var p=window.devicePixelRatio;var D=function(){function e(t){z(this,e),this.time=500,this.isActive=!1,this.drawer=t,this.radius=t.particleRadius,this.initPos()}return G(e,[{key:"getInvisiblePos",value:function(){var t=$(1,360)*Math.PI/180,e=(e=this.drawer.radius,t=t,{x:e*Math.cos(t),y:e*Math.sin(t)});return{x:this.drawer.width/2+e.x,y:this.drawer.height/2+e.y}}},{key:"initPos",value:function(){var t=this.getInvisiblePos(),e=t.x,t=t.y;this.setPos(e,t)}},{key:"setPos",value:function(t,e){this.x=t,this.y=e}},{key:"moveTo",value:function(t){var e=this,n=t.x,r=t.y,o=t.color,i=t.onend,a=(this.color=o||this.drawer.textFillColor,this.isActive=!0,this.x),u=this.y,c=(n-this.x)/this.time,l=(r-this.y)/this.time,s=Date.now();this.tick=function(){var t=Date.now()-s;t>=e.time?(e.setPos(n,r),(e.tick=null)!=i&&i()):e.setPos(a+c*t,u+l*t)}}},{key:"randomPos",value:function(){this.moveTo({x:$(0,this.drawer.width),y:$(0,this.drawer.height)})}},{key:"sleep",value:function(){var t,e,n=this;this.isActive&&(t=(e=this.getInvisiblePos()).x,e=e.y,this.moveTo({x:t,y:e,onend:function(){n.isActive=!1}}))}},{key:"draw",value:function(){var t;this.isActive&&(null!=(t=this.tick)&&t.call(this),(t=this.drawer.ctx).fillStyle=this.color,t.beginPath(),t.arc(this.x*p,this.y*p,this.radius*p,0,2*Math.PI),t.fill())}}]),e}(),H=function(){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.container,e=void 0===e?document.body:e,n=t.width,n=void 0===n?500:n,r=t.height,r=void 0===r?800:r,o=t.particleRadius,i=t.textGap,a=t.imgGap,u=t.textFillColor,c=t.fontSize,t=t.lineGap;if(z(this,s),this.particles=[],this.textFillColor="#55555555",this.textGap=5,this.imgGap=10,this._particleRadius=2,this._fontSize=100,this.lineGap=10,"string"==typeof e){var l=document.querySelector(e);if(!l)throw new Error("Cannot find container ".concat(l));e=l}o&&(this.particleRadius=o),i&&(this.textGap=i),a&&(this.imgGap=a),u&&(this.textFillColor=u),c&&(this._fontSize=c),t&&(this.lineGap=t),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),e.appendChild(this.canvas),this._initOffscreenCanvas(),this.setSize(n,r),this.loop(),this.particles.push(new D(this))}return G(s,[{key:"particleRadius",get:function(){return this._particleRadius},set:function(e){this._particleRadius=e,this.particles.forEach(function(t){t.radius=e})}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize=t,this.offscreenCtx.font="".concat(t*p,"px 'monospace'")}},{key:"_initOffscreenCanvas",value:function(){this.offscreenCanvas=document.createElement("canvas"),this.offscreenCtx=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})}},{key:"loop",value:function(){var t=this;this.clear(),this.particles.forEach(function(t){return t.draw()}),requestAnimationFrame(function(){t.loop()})}},{key:"setSize",value:function(t,e){var n;this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.width=t,this.height=e,this.canvas.width=this.offscreenCanvas.width=t*p,this.canvas.height=this.offscreenCanvas.height=e*p,this.radius=(e=e,n=this.particleRadius,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))/2+n),this.offscreenCtx.fillStyle="#000",this.fontSize=this._fontSize,this.offscreenCtx.textBaseline="middle"}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"draw",value:function(n,r){return M(this,void 0,void 0,k().mark(function t(){var e;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.offscreenCtx.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),e=function(t,e){if(e)return"image";if("string"==typeof t||t instanceof Array)return"text";if(e=t.type,["image/jpeg","image/png","image/jpg","image/gif"].includes(e))return"image";throw new Error("Invalid file type: ".concat(e))}(n,r),t.t0=e,t.next="text"===t.t0?6:"image"===t.t0?9:13;break;case 6:return this.drawText(n),this.movePoints(!0),t.abrupt("break",13);case 9:return t.next=11,this.drawImage(n);case 11:return this.movePoints(),t.abrupt("break",13);case 13:case"end":return t.stop()}},t,this)}))}},{key:"movePoints",value:function(){var n=this,t=this.getPoints(0<arguments.length&&void 0!==arguments[0]&&arguments[0]);t.forEach(function(t,e){n.getParticle(e).moveTo({x:t.x/p,y:t.y/p,color:t.color})}),this.sleepUnusedParticles(t.length)}},{key:"sleepUnusedParticles",value:function(t){var e=this.particles.length;if(t<e)for(var n=t;n<e;n++)this.particles[n].sleep()}},{key:"drawText",value:function(t){var r=this,o=(this.ctx.fillStyle=this.textFillColor,this.offscreenCtx),i=(this._fontSize+this.lineGap)*p,a=(this.height*p-(t="string"==typeof t?[t]:t).length*i-this.lineGap*p+i)/2;t.map(function(t,e){var n=o.measureText(t).width;return{text:t,x:(r.width*p-n)/2,y:a+i*e}}).forEach(function(t){var e=t.text,n=t.x,t=t.y;o.fillText(e,n,t)})}},{key:"drawImage",value:function(p){return M(this,void 0,void 0,k().mark(function t(){var u,c,l,s,f,h;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof p||["image/jpeg","image/png","image/jpg","image/gif"].includes(p.type)){t.next=2;break}throw new Error("Please choose a image");case 2:u=this.offscreenCtx,t.next=5;var r=p;return new Promise(function(t){var e="string"==typeof r?r:window.URL.createObjectURL(r),n=new Image;n.src=e,n.onload=function(){t(n)}});case 5:c=t.sent,e={width:c.width,height:c.height,containerWidth:this.canvas.width,containerHeight:this.canvas.height},n=a=i=o=n=void 0,n=e.width,o=e.height,i=e.containerWidth,e=e.containerHeight,console.log(n,o,i,e),a=n/o,n={width:n,height:o,left:0,top:0},a<i/e?(n.height=e,n.width=a*n.height,n.left=(i-n.width)/2):(n.width=i,n.height=n.width/a,n.top=(e-n.height)/2),console.log(n),l=(h=n).left,s=h.top,f=h.width,h=h.height,u.drawImage(c,l,s,f,h);case 8:case"end":return t.stop()}var e,n,o,i,a},t,this)}))}},{key:"getParticle",value:function(t){return this.particles[t]||(this.particles[t]=new D(this)),this.particles[t]}},{key:"getPoints",value:function(t){for(var e=this.offscreenCtx.getImageData(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),n=e.width,r=e.height,o=e.data,i=(t?this.textGap:this.imgGap)*p,a=[],u=0;u<n;u+=i)for(var c=0;c<r;c+=i){var l=4*(u+c*n),s=o[l],f=o[1+l],h=o[2+l],l=o[3+l];t?0===s&&0===f&&0===h&&255===l&&a.push({x:u,y:c}):0!==l&&a.push({x:u,y:c,color:"rgba(".concat(s,",").concat(f,",").concat(h,",").concat(l,")")})}return a}}]),s}();function d(t,e){for(var n="",r=0;r<t.length-1;r++)n+="".concat(t[r]).concat("function"==typeof e?e(r):e[r]);return n+t[t.length-1]}function B(t){return t instanceof Array&&t.raw instanceof Array}function U(t,e){return-1===(e=t.indexOf(e))?[t,""]:[t.substring(0,e).trim(),t.substring(e+1).trim()]}t=navigator.userAgent,/Safari/.test(t)&&/Chrome/.test(t);var v=Symbol("sub"),y=Symbol("fu"),W=Symbol("i"),A=Symbol("v"),C=Symbol("rv"),m=Symbol("l"),E=Symbol("j"),q=Symbol("rpv");function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function V(t){return function(t){if(Array.isArray(t))return J(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return J(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var g=/\$\$\d+\$\$/,Y=/\$\$\d+\$\$/g,X=[],Z={};function b(t){if(X[t])return X[t];var e="$$".concat(t,"$$");return X[t]=e,Z[e]=t,e}function K(t){return Z[t]||parseInt(t.replace(/\$\$/g,""))}function Q(t){return(t=t.match(Y))||null}function c(t,e){var n=1<arguments.length&&void 0!==e?e:0;return d(t,function(t){return b(t+n)})}function w(t,e,r,n){var o=3<arguments.length&&void 0!==n&&n,n=t instanceof Array;if(0<e.length){var i,a,u=n?function(t){if(t<=0)return[];for(var e=[],n=0;n<t;n++)e.push(b(n));return e}(e.length):Q(t);if(u)return i=n?t:t.split(g),a=u.map(function(t,n){return t=K(t),S(e[t])[v](function(t){var e=o?d(i,a):"",t=(a[n]=t,d(i,a));r(t,e)})}),d(i,a)}return n?t.join(""):t}var x={add:null},tt=function(t){var e,n,r,o,i=(a="function"==typeof t)?t:t.get,a=a?null:t.set,u=[],t=(x.add=function(t){u.push(t)},i()),c=(x.add=null,e=i,n=a,r=t,o=[],h(i={type:"reaction",isUndefined:function(){return void 0===r},get value(){var t;return null!=(t=x.add)&&t.call(x,this),r=e()},set value(t){n?n(t,this.value):console.warn("对只读computed设置值无效")}},q,function(t){t!==r&&n&&n(t,r)}),h(i,v,function(t){return o.push(t),r}),h(i,y,function(){var e=r,n=this.value;o.forEach(function(t){t(n,e)})}),h(i,C,at(r)),h(i,m,function(){return o}),h(i,"toJSON",function(){return r}),i);return u.forEach(function(r){return r[v](function(t,e,n){r[q](t),c[y](e,n)})}),c};function et(t,e){var n,e=1<arguments.length&&void 0!==e?e:"computed";return t.isEmpty()?null:(n=t.exe({type:e}),tt(function(){return O(n)}))}function nt(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],S=t;if("object"===j(S)){for(var e in S){if("toJSON"===e)break;S[e]=L(S[e])}Array.isArray(S)&&(S._length=it(S.length))}function k(t,e,n){for(var r=0;r<o.length;r++)o[r](t,e,n)}return Object.assign(S,(h(t={},v,function(t){return o.push(t),S}),h(t,y,function(){k(S,0<arguments.length&&void 0!==arguments[0]?arguments[0]:S,1<arguments.length?arguments[1]:void 0)}),h(t,C,!1),h(t,m,function(){return o}),h(t,E,function(){return ct(S)}),t)),new Proxy(S,{get:function(t,e,n){var r;if(e===A)return ct(S);var o=j(S[e]);return Array.isArray(t)?"length"===e&&null!=(r=x.add)&&r.call(x,S._length):"length"!==e&&"function"!==o||"undefined"===o&&"toJSON"!==e&&(S[e]=_("",!0)),Reflect.get(t,e,n)},set:function(t,e,n,r){function o(){return a&&!u&&/^\d+$/.test(e)?parseInt(e):-1}function i(){return Reflect.set(t,e,n,r)}var a=t instanceof Array,u="symbol"===j(e);if(a){if("length"===e)return l=i(),S._length.value=n,l;if(-1!==(l=t.indexOf(n)))return c=o(),k(n,t[c],c),t[l]=void 0,i()}if(u){if(e!==A)return e===E?(console.warn("json symbol 属性不可设置"),!0):i();var c=S[E]();if(a){for(var l=S.length,s=void 0===n?0:n.length,f=0;f<s;f++){var h=t[f],p=L(n[f]);p[W]=_(f),h&&I(h,p,f),k(p,h,f),t[f]=p}if(t.length>s)for(var d=t.splice(s,t.length-s),v=0;v<d.length;v++)k(void 0,d[v],v+s);l!==s&&(S._length.value=s)}else{var y,m,g=void 0===(n=ut(n)?n[E]():n);for(y in t)!g&&y in n||(m=t[y],delete t[y],m[m[C]?"value":A]=void 0,k(void 0,m));if(!g)for(var b in n){var w=t[b],x=L(n[b]);I(w,x),t[b]=x}}return k(S[E](),c),!0}return l=t[e],ut(n)?k(n,l):void 0===l?k(n=L(n),l,o()):l[C]?(t=l,e="value"):(n=L(n),a?(c=o(),k(n,t[c],c)):I(l,n)),i()},deleteProperty:function(t,e){var n;return t instanceof Array?k(void 0,t[n="string"==typeof e&&/^\d+$/.test(e)?parseInt(e):-1],n):k(void 0,t[e]),Reflect.deleteProperty(t,e)}})}function rt(t){var n=t.template,e=t.reactions;return{templateValue:function(){return n.join("")},isEmpty:function(){return 0===e.length},exe:function(t){return{template:n,reactions:e,context:t}},modTemplate:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.length-1;n[e]=t(n[e])},type:"react"}}function ot(t){if(at(t))return _(t);if("object"===j(t))return nt(t);throw new Error("createReactive error")}function _(r){var t,e,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=[],n={type:"reaction",isUndefined:function(){return void 0===r||o},get value(){var t;return null!=(t=x.add)&&t.call(x,this),r}},a=(h(n,q,function(t){t!==r&&(r=t)}),(t={})["value"]=t.value||{},t.value.set=function(e){var n;e!==r&&(o=o&&!1,e instanceof Array&&(e=e.join("\n")),n=r,r=e,i.forEach(function(t){t(e,n)}))},h(n,C,!0),h(n,v,function(t){return i.push(t),this.value}),h(n,y,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r,n=1<arguments.length?arguments[1]:void 0;i.forEach(function(t){t(r,e,n)})}),h(n,"toJSON",function(){return o?void 0:this.value}),h(n,m,function(){return i}),h(n,E,function(){return r}),n),u=t;for(e in u)(s=u[e]).configurable=s.enumerable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,e,s);if(Object.getOwnPropertySymbols)for(var c=Object.getOwnPropertySymbols(u),l=0;l<c.length;l++){var s,f=c[l];(s=u[f]).configurable=s.enumerable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,f,s)}return n}function it(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var o=n,i=0;i<o.length;i++){var a=o[i];"style"===a.type&&(o[i]=a.react())}return B(t)?rt({template:t,reactions:n}):"string"==typeof t&&0<n.length?rt(function(t,e){for(var n=[t],r=!0,o=0;o<e.length;o++){var i=e[o],a="string"==typeof i;a&&(r?n[n.length-1]+=i:n.push(i),e.splice(o,1),o--),r||a||n.push(""),r=a}return r||n.push(""),{template:n,reactions:e}}(t,n)):ot(t)}function S(t){return"function"==typeof t?tt(t):t}function O(t){return d(t.template,t.reactions.map(function(t){return"function"==typeof(t=t)?t():t.value}))}function at(t){return"object"!==j(t)||null===t}function I(t,e,n){if(void 0!==t&&"function"!=typeof e){if(!0!==e[C]){var r,o=Object.keys(e),i=t;for(r in t){var a=i[r],u=o.indexOf(r);-1!==u?(I(a,e[r],u),o.splice(u,1)):delete i[r]}for(var c=0;c<o.length;c++){var l=o[c];i[l]=L(e[l])}}t?(s=e,f=n,0<(p=(t=t)[m]()).length&&((h=s[m]()).push.apply(h,V(p)),s[y](function(t){return t[A]||t.value}(t),f))):e[y](void 0,n)}var s,f,h,p}function ut(t){return null!=t&&t[v]}function ct(t){return ut(t)?JSON.parse(JSON.stringify(t)):t}function L(t){return(at(t=ut(t)?t[E]:t)?_:nt)(t)}function lt(t,e){return"string"==typeof t||"number"==typeof t?t:"react"===t.type?function(t,e,n){return(n=et(t,2<arguments.length&&void 0!==n?n:"computed"))?n[v](e):t.templateValue()}(t,function(t){e(t)},"style"):S(t)[v](function(t){e(t)})}var st=it;function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||ht(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t){return function(t){if(Array.isArray(t))return pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ht(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){if(t){if("string"==typeof t)return pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(t,e):void 0}}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dt(t,e){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ht(t))||e&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}var vt,yt="undefined"!==window.document.adoptedStyleSheets&&!!window.CSSStyleSheet;function mt(t){var e;return t?gt(t):yt?(e=new CSSStyleSheet,window.document.adoptedStyleSheets.push(e),function(t){e.replace(t)}):gt(document.head)}function gt(t){var e=document.createElement("style");return t.appendChild(e),function(t){e.textContent=t}}function bt(){return{cursorUrl:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,o,i=e.map(function(t){return"string"==typeof(e=t)||"number"==typeof e?function(){return e}:"react"===e.type?function(){return O(e.exe({type:"computed"}))}:e;var e});return{cursor:st(vt=vt||(r=["url('","'), ",""],o=o||r.slice(0),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(o)}}))),i[0],i[1]||"default")}}}}var o,wt,xt,St,kt="i",At="px",t=(o={generate:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=i(this._result).generate(t);return 0!==this._styles.length&&this._styles.forEach(function(t){e.scopeTemplate+=Gt(t,e.scopeReactions)}),e},exe:function(e){return 0<this._styles.length&&this._styles.forEach(function(t){"string"==typeof t||"react"===t.type?i(t).exe(e):"style"===t.type?t.exe(e):"object"===l(t)&&i(t).exe(e)}),i(this._result).exe(e)},join:function(){var t;return(t=this._styles).push.apply(t,arguments),this},type:"style"},wt={join:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object.assign(Et([].concat(e)),o)}},["paddingTop","paddingBottom","paddingLeft","paddingRight","marginTop","marginBottom","marginLeft","marginRight","fontSize","lineHeight","top","left","bottom","right","borderRadius","textIndent","width","maxWidth","minWidth","height","maxHeight","minHeight","flexBasis","opacity","zIndex","flex","flexGrow","flexShrink","margin","padding","textDecoration","position","alignItems","justifyContent","display","alignContent","backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundOrigin","backgroundRepeat","boxSizing","clear","textAlign","wordWrap","whiteSpace","wordBreak","wordSpacing","verticalAlign","fontStyle","flexDirection","flexWrap","resize","textOverflow","float","visibility","overflow","overflowX","overflowY","cursor","border","borderBottom","borderTop","borderLeft","borderRight","boxShadow","fontFamily","fontWeight","animation","backgroundImage","backgroundSize","backgroundPosition","backdropFilter","filter","transform","transition","outline","clip","flexFlow","textShadow","content","color","backgroundColor","borderColor"].forEach(function(r){o[r]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._result[r]=function(t,e,n,r){n===kt&&(r=kt,n="");var o="".concat(n||"").concat(r===kt?"!important":""),i=!!n||Tt.includes(t);return"number"==typeof e||"string"==typeof e?jt(i,e,o):"react"===e.type?function(){return jt(i,O(e.exe({type:"style"})),o)}:"function"==typeof e?function(){return jt(i,e(),o)}:function(){return jt(i,e.value,o)}}.apply(null,[r].concat(e)),this},Ct(r)}),xt={borderBox:{boxSizing:"border-box"},relative:{position:"relative"},absolute:{position:"absolute"},fixed:{position:"fixed"}},Object.keys(xt).forEach(function(t){o[t]=function(){return Object.assign(this._result,xt[t]),this},Ct(t)}),St=bt(),Object.keys(St).forEach(function(t){o[t]=function(){return Object.assign(this._result,St[t].apply(St,arguments)),this}}),wt);function Ct(e){wt[e]=function(){var t;return(t=Object.assign(Et([]),o))[e].apply(t,arguments)}}function Et(t){return{get:function(t){return this._result[t]},_result:{},_styles:T(t)}}function jt(t,e,n){return t||"string"==typeof e||"number"!=typeof e?e+n:"".concat(e).concat(At).concat(n)}var _t=["animation","transform","filter","transition"],Ot=["webkit","moz","ms","o"],It=new RegExp("(".concat(_t.join("|"),") *:.*?(;|$)"),"g");function Lt(t){return t.replace(It,function(e){var n=e;return Ot.forEach(function(t){n+="-".concat(t,"-").concat(e)}),n})}var Tt=["zIndex","opacity","flex","flexGrow","flexShrink"],i=Object.assign(function(a){for(var t=arguments.length,u=new Array(1<t?t-1:0),e=1;e<t;e++)u[e-1]=arguments[e];return{generate:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,o="",i=[];if("string"==typeof a)o+=s(a,!0);else if(B(a)){var t=a;0===u.length?o+=s(t[0],!0):(o+=s(c(t,r),!0),i.push.apply(i,u))}else if("react"===a.type){var e=(t=a.exe({type:"style"})).template,t=t.reactions;o+=s(c(e,r),!0),t.push.apply(t,T(t))}else{if("object"!==l(a)&&null===a)return console.warn("Invalid style arguments",a,u),{scopeTemplate:"",scopeReactions:[]};for(var n in a)!function(e){var t=(n=function(t,e,n,r){var o,e=1<arguments.length&&void 0!==e?e:0,n=2<arguments.length?n:void 0,r=3<arguments.length?r:void 0,i="",a=[];return"string"==typeof t||"number"==typeof t?i+=n?n(t):t:"react"===t.type?(o=(n=t.exe({type:"style"})).template,0<(n=n.reactions).length?(i=c(o,e),a.push.apply(a,V(n))):i=o.join("")):(n=S(t),r&&(n=r(n)),i=b(e),a.push(n)),{reactions:a,template:i}}(a[e],i.length+r,function(t){return Rt(e,t)},function(t){return zt(e,t.value)?tt(function(){return t.value+At}):t})).reactions,n=n.template;0<t.length&&i.push.apply(i,T(t)),o+="".concat(Nt(e),":").concat(n,";")}(n)}return{scopeTemplate:Lt(o),scopeReactions:i}},exe:function(t){var e=t.getAttribute("style")||"",n="";if("string"==typeof a)n+=s(a,!0);else if(B(a))0===u.length?n+=a[0]:n=Pt(a,u,t.style,n);else if("react"===a.type)var r=a.exe({type:"style"}),n=Pt(r.template,r.reactions,t.style,n);else if("object"===l(a)||null!==a){var o,i=t.style;for(o in a)!function(e){var t=lt(a[e],function(t){Ft(i,e,t)});n+="".concat(Nt(e),":").concat(Rt(e,t),";")}(o)}else console.warn("Invalid style arguments");t.setAttribute("style",e+Lt(n))},mount:function(t){if(!(t="string"==typeof t?document.querySelector(t):t))throw new Error("invalid dom");this.exe(t)},react:function(){var t=this.generate(),e=t.scopeReactions,n=t.scopeTemplate.split(g);return function(){return O({template:n,reactions:e})}},type:"style"}},t);function Pt(t,e,n,r){return(r+=(t=ft(s(c(t)),2))[0])+function(o,i,a){var t,u="";for(t in i)!function(t){var e,n="",r=w(t,a,function(t,e){o[e]="",Ft(o,t,n),r=t},!0),n=w(i[t],a,function(t){Ft(o,r,t),n=t});u+=(t=r,e=n,"".concat(Nt(t),":").concat(Rt(t,e),";"))}(t);return u}(n,t[1],e)}function Nt(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function Rt(t,e){return e+(zt(t,e)?At:"")}function zt(t,e){return"number"==typeof e&&!Tt.includes(t)}function s(t,e){var n=1<arguments.length&&void 0!==e&&e;if(!t)return t;for(var r=t.split(/[;\n]/),o="",i={},a=0;a<r.length;a++){var u,c,l,s=r[a].trim();s&&(u=(c=ft(U(s,":"),2))[0],(c=c[1])&&(l=Nt(u),g.test(s)&&!n?i[u]=c:o+="".concat(l,":").concat(c,";")))}return n?o:[o,i]}function Ft(t,e,n){var r,o,i;n=Rt(e,n),t[e]=n,r=t,o=e,i=n,_t.includes(o)&&Ot.forEach(function(t){r["-".concat(t,"-").concat(o)]=i})}function Gt(t,e){var n,r,o="";return"string"==typeof t?o=t:"object"===l(t)&&(o="react"===t.type?(n=t.exe({type:"style"}),r=e.length,e.push.apply(e,T(n.reactions)),c(n.template,r)):(r=(n=(t="style"!==t.type?i(t):t).generate(e.length)).scopeReactions,t=n.scopeTemplate,e.push.apply(e,T(r)),t)),s(o,!0)}function Mt(e,t){return t.split(",").map(function(t){return t=t.trim(),e||t?"&"===t[0]?"".concat(e).concat(t.substring(1)):"".concat(e," ").concat(t).trim():""}).join(",")}function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||Ht(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t){return function(t){if(Array.isArray(t))return Bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ht(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t,e){if(t){if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(t,e):void 0}}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ut(t,e){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ht(t))||e&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Wt(t){t.remove(),Vt("removed",t)}function qt(t,e,n){n&&(e[t="__alins_on_".concat(t)]||(e[t]=[]),e[t].push(n))}function Vt(t,e){var n="__alins_on_".concat(t);e[n]&&(e[n].forEach(function(t){t(e)}),"mounted"===t&&(e[n]=null))}function Jt(t){Vt("appended",t),Vt("mounted",t)}function Yt(t,e,n){var r=e instanceof DocumentFragment?Xt(e):null;t.insertBefore(e,n),r?r.forEach(Jt):Jt(e)}function Xt(t){return[].slice.call(t.children)}mt();var Zt={_mountedList:[],_inMounting:!1,mountStart:function(){this._inMounting=!0,this._mountedList=[]},collectMounted:function(t,e){this._inMounting?this._mountedList.push(function(){null!=e&&e.exe()(t)}):qt("mounted",t,null==e?void 0:e.exe())},mountFinish:function(){this._mountedList.forEach(function(t){t()}),this._mountedList=[],this._inMounting=!1}};Kt="mounted";var Kt,Qt=function(t){return{type:"life",name:Kt,exe:function(){return t}}};var te="./#[:";function ee(t){return te.includes(t[0])?t:":".concat(t)}function ne(t){if("/"!==t[0])return"";for(var e=1;e<t.length;e++)if(".#[:".includes(t[e]))return t.substring(1,e);return t.substring(1)}function re(i){function a(t,e){c=e,l=t}function t(t,e){if("attributes"!==c||""===e){if(!c)return a(t,e);var n=i.substring(l+1,t);switch(c){case"className":u.className||(u.className=[]),u.className.push(n);break;case"id":u.id=n;break;case"attributes":u.attributes||(u.attributes={});var r=(o=Dt(U(n,"="),2))[0],o=o[1];u.attributes[r]=o;break;case"textContent":u.textContent+=n;break;case"tagName":u.tagName=n}a(t,e)}}for(var u={textContent:""},c=(i=ee(i),""),l=0,e=i.length,n=0;n<e;n++)switch(i[n]){case".":t(n,"className");break;case"#":t(n,"id");break;case"[":t(n,"attributes");break;case"]":t(n,"");break;case"/":t(n,"tagName");break;case":":"textContent"!==c&&t(n,"textContent")}return t(i.length,""),u}function oe(t,e){var n=e?"":"none";(t=t instanceof DocumentFragment?[].slice.call(t.children):t)instanceof Array?t.forEach(function(t){t.style.display=n}):t.style.display=n}var ie={for:function(l){var s=this;return function(r){function i(t,e){var n=ot(t),t=((e=void 0===e?l[t]:e)[W]=n,r(e,n));return Array.isArray(t)?t:[t]}for(var a=document.createComment(""),u=[],c=[],t=0;t<l.length;t++){var e=i(t);c.push(s.apply(null,e))}return l[v](function(t,e,n){var r,o;"number"==typeof n&&(-1!==(o=l.indexOf(t))?(r=u[n],u[n]=u[o],u[o]=r,t[W].value=n):void 0===t?(ue(u[n]),u[n]=void 0):(o=s.apply(null,i(n,t)),u[n]||(t=(r=N(o)).dom,o=r.children,u[n]=o,o=(r=u[n+1])instanceof Array?r[0]:r,Yt(a.parentElement,t,o||a))))}),{exe:function(){var t,e=document.createDocumentFragment(),n=Ut(c);try{for(n.s();!(t=n.n()).done;){var r=N(t.value),o=r.dom,i=r.children;u.push(i),e.appendChild(o)}}catch(t){n.e(t)}finally{n.f()}return e.append(a),e},type:"for",mount:function(){R(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)}}}},if:function(t){function o(t,e){e=1<arguments.length&&void 0!==e&&e,t=n.apply(null,t);e?u=t:c.push(t)}function i(t){var n=h.length;(t=S(t))[v](function(t){var e=null;t?(n<l||-1===l)&&(e=N(c[l=n]).children):0<=l&&(e=f(l)),e&&r.forEach(function(t){return t(e)})}),h.push(t)}var n=this,r=[],a=document.createComment(""),u=null,c=[],l=0,s=[],e=function(t){if(!t)return a;var e=s[l];return e||(e=N(t).children,s[l]=e)},f=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;t<h.length;t++)if(!0===h[t].value)return e(c[l=t]);return u?(l=h.length,e(u)):(l=-1,e())},h=[];return i(t),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e),{exe:function(){var e=f();return r.push(function(t){t!==e&&(ce(e,t),e=t)}),le(e)},elif:function(t){var r=this;return i(t),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e),r}},else:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e,!0),this},type:"if",mount:function(){R(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)}}}},show:function(t){var o=S(t),i=this;return function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return{exe:function(){var e=N(i.apply(null,r)).children,t=o[v](function(t){oe(e,t)}),n=le(e);return oe(n,t),n},type:"show",mount:function(){R(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)}}}},switch:function(t){function n(t){return(t=u.get(t)||u.get(o))?c.get(t)||(e=N(t).children,c.set(t,e),e):a;var e}function i(t,e){t=r.apply(null,t),u.set(e,t)}var r=this,o=Symbol("def"),a=document.createComment(""),u=new Map,c=new Map,l=S(t);return{exe:function(){var e=n(l.value);return l[v](function(t){(t=n(t))!==e&&(ce(e,t),e=t)}),le(e)},case:function(r){var o=this;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(e,r),o}},default:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(e,o),this},type:"switch",mount:function(){R(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)}}}},ae=Object.assign({model:function(t){for(var e=arguments.length,c=new Array(1<e?e-1:0),n=1;n<e;n++)c[n-1]=arguments[n];function r(){for(var t=arguments.length,u=new Array(t),e=0;e<t;e++)u[e]=arguments[e];return{exe:function(){function t(t){e=!0,0!==c.length&&(c.includes("number")?t=parseFloat(t):c.includes("camel")&&(t=t.toLowerCase())),l.value=t}var e=!1,n=be(s.apply(null,u)),r="true"===n.contentEditable,o=r?function(){return n.textContent||""}:function(){return n.value||""},i=r?function(t){n.textContent=t}:function(t){n.value=t},a=(i(l[v](function(t){e?e=!1:i(t)})),!1);return n.addEventListener("compositionstart",function(){a=!0}),n.addEventListener("compositionend",function(){a=!1,t(o())}),n.addEventListener("input",function(){a||t(o())}),"number"===n.getAttribute("type")&&c.push("number"),n},type:"model",mount:function(){R(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this.exe())}}}var l=S(t),s=this;return r.exe=function(){return r().exe()},r.mount=function(){R(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",r().exe())},r.type="model",r}},ie);function N(t){var e="comp"===t.type;return{dom:t=e?f(t.exe()):be(t),children:e?[].slice.call(t.children):t}}function ue(t){t instanceof Array?t.forEach(function(t){Wt(t)}):Wt(t)}function ce(t,e){var n=t instanceof Array?t[0]:t,r=n.parentElement;if(!r)throw new Error("parent not found");Yt(r,le(e),n),ue(t)}function le(t){var e;return t instanceof Array?(e=document.createDocumentFragment(),t.forEach(function(t){e.appendChild(t)}),e):t}function se(n){return{exe:function(e,t){return t?(e.value=lt(n,function(t){e.value=t+""})+"",null):this.exeTextNode()},exeTextNode:function(){var e=document.createTextNode(lt(n,function(t){e.textContent=t+""})+"");return e},type:"text"}}function fe(t,e){var n;e.className&&(t.className||(t.className=[]),(n=t.className).push.apply(n,P(e.className))),e.attributes&&(t.attributes||(t.attributes={}),Object.assign(t.attributes,e.attributes)),e.id&&(t.id=e.id),e.textContent&&(t.textContent||(t.textContent=""),t.textContent+=e.textContent)}var t=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody"],e=[].concat(t,["abbr","article","aside","b","base","bdi","bdo","blockquote","caption","cite","del","details","dialog","em","embed","figure","footer","header","hr","menu","nav","noscript","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var"]);function he(C){return Object.assign(function(){for(var e,t=arguments.length,A=new Array(t),n=0;n<t;n++)A[n]=arguments[n];return e=A,{exe:function(){for(var t,e,n,r,o,i,a,u,c,l,s,f,h,p=C,d=A,v={tag:p,children:[],event:[],binding:[],styles:[],pseudos:[],domInfo:{},lifes:{},textContent:""},y=v.children,m=v.binding,g=0;g<d.length;g++){var b=d[g];if("number"==typeof b)y.push(se(b));else if("string"==typeof b){var w=ne(b);w&&(v.tag=w),(w=re(ee(b))).textContent&&(y.push(se(w.textContent)),delete w.textContent),fe(v.domInfo,w)}else if(b instanceof Array||b instanceof HTMLElement||b instanceof Text)y.push(b);else if("object"===$t(b)&&b)switch(b.type){case"reaction":m.push({template:["",""],reactions:[b],context:{type:"dom-info"},index:y.length}),y.push(null);break;case"react":var x,S=b.exe({type:"dom-info"});"/"===S.template[0][0]&&(x=O(S),v.tag=ne(x)),S.index=y.length,m.push(S),y.push(null);break;case"builder":case"if":case"show":case"model":case"switch":case"for":case"comp":case"text":y.push(b);break;case"on":null!=(x=v.event)&&x.push(b);break;case"style":null!=(S=v.styles)&&S.push(b);break;case"pseudo":null!=(t=v.pseudos)&&t.push(b);break;case"life":v.lifes[b.name]=b;break;case"html":v.html=b;break;default:console.warn("unkonwn builder",b)}else if("function"==typeof b){var k=b();switch(k.type){case"builder":case"if":case"show":case"switch":case"for":case"comp":y.push(k);break;case"model":y.push(k.exe());break;default:k instanceof Array?d.splice.apply(d,[g,1].concat(P(k))):d.splice(g,1,k),g--}}}return p=v.tag,e=v.className,n=v.id,r=v.textContent,o=v.attributes,i=v.children,a=v.binding,u=v.domInfo,c=v.event,l=v._if,s=v.styles,f=v.pseudos,h=v.lifes,{tag:void 0===p?"":p,className:void 0===e?[]:e,id:void 0===n?"":n,textContent:void 0===r?"":r,attributes:void 0===o?{}:o,children:void 0===i?[]:i,binding:void 0===a?[]:a,domInfo:void 0===u?{}:u,event:void 0===c?[]:c,_if:l,styles:void 0===s?[]:s,pseudos:void 0===f?[]:f,lifes:void 0===h?{}:h,html:v.html}},type:"builder",mount:function(){R(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)},_asParent:function(t){e.push.apply(e,P(t))}}},ae)}pe={},e.map(function(t){pe[t]=he(t)});var pe,de=pe,e=Dt(t.map(function(t){return de[t]}),34),a=(e[0],e[1]),ve=(e[2],e[3],e[4],e[5],e[6],e[7],e[8]),ye=(e[9],e[10],e[11],e[12],e[13],e[14],e[15],e[16],e[17],e[18],e[19],e[20],e[21],e[22],e[23],e[24],e[25]),me=(e[26],e[27],e[28],e[29]),ge=e[30];function be(t){var e=t.exe(),n=document.createElement(e.tag),r=!1;e.html&&(r=!0,n.innerHTML=e.html.exe(function(t){n.innerHTML=t})+"");for(var o=0;o<e.binding.length;o++){var i=e.binding[o],a=function(t,o,e,i){var r,a=[],n=e.template,u=e.reactions,c=re(d(n,b)),l={};if(c.textContent&&(t?console.warn("text is not supported in html or text builder"):(e=c.textContent,(r=Q(e))?xe(o)?o.value=w(e,u,function(t,e){o.value=t,null!=i&&i({node:o,type:"value",value:t,prevValue:e})},!1):e.split(g).forEach(function(t,e){var n;t&&a.push(document.createTextNode(t)),r[e]&&(t=K(r[e]),(e=u[t])&&(t=S(e),n=document.createTextNode(t[v](function(t,e){n.textContent=t,null!=i&&i({node:n,type:"text",value:t,prevValue:e})})),a.push(n)))}):a.push(se(e)))),c.className&&c.className.forEach(function(t){l.className||(l.className=[]),(t=w(t,u,function(t,e){e?t?o.classList.replace(e,t):o.classList.remove(e):o.classList.add(t),null!=i&&i({node:o,type:"className",value:t,prevValue:e})},!0))&&l.className.push(t)}),c.attributes)for(var s in c.attributes)!function(t){var n="",r=w(t,u,function(t,e){o.removeAttribute(e),o.setAttribute(t,n),r=t,null!=i&&i({node:o,key:r,type:"attribute-key",value:t,prevValue:e})},!0),n=w(c.attributes[t],u,function(t,e){o.setAttribute(r,t),n=t,null!=i&&i({node:o,key:r,type:"attribute-value",value:t,prevValue:e})});l.attributes||(l.attributes={}),l.attributes[r]=n}(s);return c.id&&(n=w(c.id,u,function(t,e){o.id=t,null!=i&&i({node:o,type:"id",value:t,prevValue:e})}),o.id=n),{domInfo:l,children:a}}(r,n,i,null==(a=e.lifes.updated)?void 0:a.exe()),u=a.domInfo;0<(a=a.children).length&&(e.children[null!=(i=i.index)?i:e.children.length]=a),fe(e,u)}if(e.domInfo&&fe(e,e.domInfo),e.textContent&&(l=n,s=e.textContent,xe(l)?l.value=s:l.appendChild(document.createTextNode(s))),0<e.className.length&&(n.className=e.className.join(" ")),e.attributes)for(var c in e.attributes)n.setAttribute(c,e.attributes[c]);e.id&&(n.id=e.id),e.children&&0<e.children.length&&(r&&e.html?console.warn("children is not supported in html builder"):we(n,e.children));for(var l,s,f,h=0;h<e.event.length;h++)e.event[h].exe(n);return e.styles.forEach(function(t){return t.exe(n)}),e.pseudos.forEach(function(t){return t.exe(n)}),l=n,s=e.lifes,qt("appended",l,null==(f=s.appended)?void 0:f.exe()),qt("removed",l,null==(f=s.removed)?void 0:f.exe()),Zt.collectMounted(n,e.lifes.mounted),null!=(t=e.lifes.created)&&t.exe()(n),n}function we(t,e){if(xe(t)){var n,r=Ut(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;"text"===(null==o?void 0:o.type)&&o.exe(t,!0)}}catch(t){r.e(t)}finally{r.f()}}else{var i,a=document.createDocumentFragment(),u=Ut(e);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.appendChild(f(c))}}catch(t){u.e(t)}finally{u.f()}e=t,s=Xt(l=a),e.appendChild(l),s.forEach(Jt)}var l,s}function f(t){var e=document.createDocumentFragment();if("function"==typeof t)return f(t());if(t instanceof Array){var n,r=Ut(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.appendChild(f(o))}}catch(t){r.e(t)}finally{r.f()}}else if(t instanceof HTMLElement||t instanceof Text)e.appendChild(t);else if(t)switch(t.type){case"comp":e.appendChild(f(t.exe()));break;case"builder":e.appendChild(be(t));break;case"if":case"switch":case"for":case"show":case"model":e.appendChild(t.exe());break;case"text":e.appendChild(t.exeTextNode())}return e}function xe(t){return void 0!==t.value&&"BUTTON"!==t.tagName}function R(t){"string"==typeof t&&(t=document.querySelector(t)||document.body);for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(t instanceof HTMLElement)Zt.mountStart(),we(t,n),Zt.mountFinish();else{if("builder"!==t.type&&"comp"!==t.type)throw new Error("Parent is illegal");t._asParent(n)}}function Se(o,i){var a=[];return{exe:function(){for(var t={props:{},events:{},slots:{}},e=0;e<i.length;e++){var n=i[e];if("function"==typeof n)i.push.apply(i,P(n()));else if(n)switch(n.type){case"prop":t.props=n.exe();break;case"event":t.events=n.exe();break;case"slot":t.slots=n.exe()}}if(!o)throw new Error("Component not found");var r=o(t);return 0<a.length&&(r instanceof Array?r.push(a):r=[r,a]),r},type:"comp",mount:function(){R(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)},_asParent:function(t){a.push.apply(a,P(t))}}}e[31],e[32],e[33],Object.assign(function(r){return Object.assign(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Se(r,e)},Se(r,[]),ie)},ie);t=["click","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","touchend","touchmove","touchstart","wheel","input","change"],e=[].concat(t,["fullscreenchange","fullscreenerror","copy","cut","paste","abort","auxclick","beforeinput","blur","canplay","canplaythrough","close","compositionend","compositionstart","compositionupdate","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","focusin","focusout","formdata","gotpointercapture","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","lostpointercapture","mouseout","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","select","selectionchange","selectstart","submit","suspend","timeupdate","toggle","touchcancel"]);function ke(i,a,e){var u=[];return{args:function(){return u.push.apply(u,arguments),this},exe:function(n){var r,o;0===e.length?a&&n.addEventListener(i,function(t){a.apply(n,[].concat(u,[t,n]))}):(o=(r=function(t){return e.includes(t)})("capture"),n.addEventListener(i,function t(e){r("self")&&e.target!==n||(r("stop")&&e.stopPropagation(),r("prevent")&&e.preventDefault(),a&&a.apply(n,[].concat(u,[e])),r("once")&&n.removeEventListener(i,t,o))},o))},type:"on",name:i}}Ae={},e.map(function(t){var o;Ae[t]=(o=t,Object.assign(function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ke(o,t,n)},{prevent:ke(o,null,["prevent"]),stop:ke(o,null,["stop"])}))});var Ae,Ce,Ee=Ae,e=Dt(t.map(function(t){return Ee[t]}),13),u=e[0],je=(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]);function _e(){clearInterval(Ce)}function n(e,n){var r=n[e];return a(".input-item",me(".input-title",e),ye(".input-el[value=".concat(r,"]"),je(function(t){t=t.target.value;n[e]="string"==typeof r?t:parseInt(t)})))}!function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];function n(t){var e=function t(e,n){var r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],a=Mt(o,e),u="",c="",l=dt(n);try{for(l.s();!(r=l.n()).done;){var s,f=r.value;f instanceof Array?(u+=(s=t(f[0],f.slice(1),a,i)).template,i.push.apply(i,T(s.reactions))):c+=Gt(f,i)}}catch(e){l.e(e)}finally{l.f()}return c=Lt(c),{template:(a?"".concat(a,"{").concat(c,"}"):"".concat(c)).concat(u),reactions:i}}(o,r),n=e.template;0<(e=e.reactions).length?t(w(n,e,t)):t(n)}return{reactiveStyle:n,mount:function(t){var e=null;if(t&&!(e="string"==typeof t?document.querySelector(t):t))throw new Error("Invalid mount target");return n(mt(e))}}}}("body")(i.padding(0).margin(0).overflow("hidden"),[".input-item",i("\n        margin: 10px 0;\n        "),["&.func-box",i.borderTop("1px solid #ddd").paddingTop(10)],[".input-title",i("\n            display: inline-block;\n            width: 120px;\n            text-align: right;\n            padding-right: 10px;\n            vertical-align: text-top;\n        ")],[".input-el",i("\n            height: 20px;\n            padding-left: 5px;\n            vertical-align: text-top;\n        ")]],[".btn",i({backgroundColor:"rgb(28,195,255)",padding:"4px 6px",outline:"none",border:"none",borderRadius:3,fontSize:14,color:"white",cursor:"pointer"}),["&.large",i.padding("8px 10px").fontSize(16)]]).mount();var Oe,r,Ie=new H({width:window.innerWidth,height:window.innerHeight,textFillColor:"#222"}),Le=(window.drawer=Ie,null);window.addEventListener("resize",function(){clearTimeout(Le),Le=setTimeout(function(){Ie.setSize(window.innerWidth,window.innerHeight)},500)}),t=Ie,r=st(!0),a(".container",i.position("fixed").right(10).top(10),[ve.show(function(){return!r.value})(".btn.large:Open Panel",u(function(){r.value=!r.value})),(t=t,Oe=r,a.show(Oe)(".panel",i({position:"absolute",top:0,right:0,backgroundColor:"#eeee",width:300,padding:10}),n("textFillColor",t),n("fontSize",t),n("lineGap",t),n("textGap",t),n("imgGap",t),n("particleRadius",t),function(e){var n=st("Hello World!\nBe Happy!");return a(".input-item.func-box",me(".input-title[placeholder=Input Something]:Draw Content"),ge.model(n)(".input-el]",i({width:140,resize:"vertical",height:50})),a(i.textAlign("center").marginTop(10),ve(".btn:".concat("Draw Text"),u(function(){_e();var t=n.value;t.includes("\n")&&(t=t.split("\n")),e.draw(t)}))))}(t),function(n){var e,r=st("Draw Image");return a(".input-item.func-box",me(".input-title:Choose Image"),ve(".btn",r,u(function(){e.value="",r.value="Draw Image",e.click()})),ye(".input-el[type=file]",i.visibility("hidden").position("absolute"),Qt(function(t){e=t}),je(function(t){var e=t.target.files[0];if(e){r.value=e.name,_e();try{n.draw(e)}catch(t){alert("Please choose a image")}}})))}(t),function(e){return a(".input-item.func-box",i.textAlign("center").marginTop(10),ve(".btn:Clock",u(function(){function t(){e.draw((new Date).toLocaleString().substring(9))}t(),function(t,e){e=1<arguments.length&&void 0!==e?e:1e3,_e(),Ce=setInterval(t,e)}(t,1e3)})))}(t),me(".close:×",i({color:"#f00",fontSize:25,position:"absolute",right:10,top:0,display:"block",cursor:"pointer"}),u(function(){return Oe.value=!1}))))]).mount(),setTimeout(function(){Ie.draw(["This is","Particle-Drawer"])},1e3)});
